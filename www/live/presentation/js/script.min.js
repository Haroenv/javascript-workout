require=function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return i(n?n:e)},u,u.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({kLUUT7:[function(e,t){t.exports=function(){var e={SET_CURRENT_SLIDE_INDEX:"setCurrentSlideIndex",REQUEST_POLAR_H7:"requestPolarH7"};return e}()},{}],Constants:[function(e,t){t.exports=e("kLUUT7")},{}],3:[function(e,t){t.exports=function(){var t=e("core/Class"),n=e("./Slide"),r=e("Constants"),i=37,s=39,o=t.extend({currentSlideIndex:0,socket:!1,iframes:[],numIframes:3,slides:[],init:function(){console.log("[Presentation] init"),this.createIframes(),$("#login").on("submit",$.proxy(this.loginSubmitHandler,this)),$(window).on("keydown",$.proxy(this.keydownHandler,this))},createIframes:function(){for(var e=0;e<this.numIframes;e++){var t=$('<iframe class="slide-frame" />');this.iframes.push(t),$("#presentation").append(t)}},loginSubmitHandler:function(e){e.preventDefault();var t=this;$.post("/login",{email:$("[name=email]").val(),password:$("[name=password]").val()}).done(function(e){t.slides=[];for(var r=e.slides.length,i=0;r>i;i++)t.slides.push(new n(e.slides[i]));t.connectSocket(e.token)})},connectSocket:function(e){this.token=e,this.socket=io.connect("/",{query:"token="+e}),this.socket.on("connect",$.proxy(this.socketConnectHandler,this)),this.socket.on("disconnect",$.proxy(this.socketDisconnectHandler,this)),this.socket.on("currentSlideIndexChanged",$.proxy(this.currentSlideIndexChangedHandler,this))},socketConnectHandler:function(){$("#login").hide()},socketDisconnectHandler:function(){$("#login").show()},currentSlideIndexChangedHandler:function(e){e=parseInt(e),this.currentSlideIndex=e;var t=this.getSlideByIndex(e),n=this.getSlideByIndex(e-1),r=this.getSlideByIndex(e+1),i=this.getIframeForSlide(t,[n,r]);i&&(t.attachToIframe(i,"slides/"+t.name+".html?token="+this.token),$(i).css("left",0));var s=this.getIframeForSlide(n,[t,r]);s&&(n.attachToIframe(s,"slides/"+n.name+".html?token="+this.token),$(s).css("left","-100%"));var o=this.getIframeForSlide(r,[n,t]);o&&(r.attachToIframe(o,"slides/"+r.name+".html?token="+this.token),$(o).css("left","100%"))},getSlideByIndex:function(e){return e>=0&&e<this.slides.length?this.slides[e]:!1},getIframeForSlide:function(e,t){if(e){var n=$("iframe[name="+e.name+"]");if(n.length>0)return n[0];var r=[];$(t).each(function(e,t){r.push(t.name)});for(var i=$("iframe.slide-frame"),s=i.length-1;s>=0;s--){n=$(i[s]);var o=n.attr("name");if(!o||-1===r.indexOf(o))return n[0]}}return!1},keydownHandler:function(e){switch(e.keyCode){case i:this.tryToSend(r.SET_CURRENT_SLIDE_INDEX,this.currentSlideIndex-1);break;case s:this.tryToSend(r.SET_CURRENT_SLIDE_INDEX,this.currentSlideIndex+1)}},tryToSend:function(){this.socket&&this.socket.emit.apply(this.socket,arguments)}});return o}()},{"./Slide":4,Constants:"kLUUT7","core/Class":"Hzu0go"}],4:[function(e,t){t.exports=function(){var t=e("core/Class"),n=t.extend({init:function(e){this.data=e,this.name=this.data.name},attachToIframe:function(e,t){$(e).attr("name",this.name),t!==$(e).attr("src")&&$(e).attr("src",t)}});return n}()},{"core/Class":"Hzu0go"}],5:[function(e){!function(){function t(){new n}var n=e("./classes/Presentation");t()}()},{"./classes/Presentation":3}],Hzu0go:[function(e,t){t.exports=function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;return this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof i[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(o,n[o]):n[o];return r.prototype=s,r.prototype.constructor=r,r.extend=arguments.callee,r},Class}()},{}],"core/Class":[function(e,t){t.exports=e("Hzu0go")},{}]},{},[5]);