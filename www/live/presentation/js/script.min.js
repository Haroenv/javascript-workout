require=function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t){t.exports=function(){var t=e("core/Class"),n=e("./Slide"),r=37,i=39,s=t.extend({currentSlideIndex:0,socket:!1,iframes:[],numIframes:3,slides:[],init:function(){console.log("[Presentation] init"),this.createIframes(),$("#login").on("submit",$.proxy(this.loginSubmitHandler,this)),$(window).on("keydown",$.proxy(this.keydownHandler,this))},createIframes:function(){for(var e=0;e<this.numIframes;e++){var t=$('<iframe class="slide-frame" />');this.iframes.push(t),$("#presentation").append(t)}},loginSubmitHandler:function(e){e.preventDefault();var t=this;$.post("/login",{email:$("[name=email]").val(),password:$("[name=password]").val()}).done(function(e){t.slides=[];for(var r=e.slides.length,i=0;r>i;i++)t.slides.push(new n(e.slides[i]));t.connectSocket(e.token)})},connectSocket:function(e){this.socket=io.connect("/",{query:"token="+e}),this.socket.on("connect",$.proxy(this.socketConnectHandler,this)),this.socket.on("disconnect",$.proxy(this.socketDisconnectHandler,this)),this.socket.on("currentSlideIndexChanged",$.proxy(this.currentSlideIndexChangedHandler,this))},socketConnectHandler:function(){console.log("connected"),$("#login").hide()},socketDisconnectHandler:function(){console.log("disconnected"),$("#login").show()},currentSlideIndexChangedHandler:function(e){e=parseInt(e),this.currentSlideIndex=e;var t=this.getSlideByIndex(e),n=this.getSlideByIndex(e-1),r=this.getSlideByIndex(e+1),i="",s=this.getIframeForSlide(t,[n,r]);s&&($(s).attr("name",t.name),$(s).css("left",0),i="slides/"+t.name+".html",i!==$(s).attr("src")&&$(s).attr("src",i));var o=this.getIframeForSlide(n,[t,r]);o&&($(o).attr("name",n.name),$(o).css("left","-100%"),i="slides/"+n.name+".html",i!==$(o).attr("src")&&$(o).attr("src",i));var a=this.getIframeForSlide(r,[n,t]);a&&($(a).attr("name",r.name),$(a).css("left","100%"),i="slides/"+r.name+".html",i!==$(a).attr("src")&&$(a).attr("src",i))},getSlideByIndex:function(e){return e>=0&&e<this.slides.length?this.slides[e]:!1},getIframeForSlide:function(e,t){if(e){var n=$("iframe[name="+e.name+"]");if(n.length>0)return n[0];var r=[];$(t).each(function(e,t){r.push(t.name)});for(var i=$("iframe.slide-frame"),s=i.length-1;s>=0;s--){n=$(i[s]);var o=n.attr("name");if(!o||-1===r.indexOf(o))return n[0]}}return!1},keydownHandler:function(e){switch(e.keyCode){case r:this.tryToSend("setCurrentSlideIndex",this.currentSlideIndex-1);break;case i:this.tryToSend("setCurrentSlideIndex",this.currentSlideIndex+1)}},tryToSend:function(){this.socket&&this.socket.emit.apply(this.socket,arguments)}});return s}()},{"./Slide":2,"core/Class":"Hzu0go"}],2:[function(e,t){t.exports=function(){var t=e("core/Class"),n=t.extend({init:function(e){console.log("[Slide] init"),this.data=e,this.name=this.data.name}});return n}()},{"core/Class":"Hzu0go"}],3:[function(e){!function(){function t(){new n}var n=e("./classes/Presentation");t()}()},{"./classes/Presentation":1}],Hzu0go:[function(e,t){t.exports=function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;return this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof i[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(o,n[o]):n[o];return r.prototype=s,r.prototype.constructor=r,r.extend=arguments.callee,r},Class}()},{}],"core/Class":[function(e,t){t.exports=e("Hzu0go")},{}]},{},[3]);