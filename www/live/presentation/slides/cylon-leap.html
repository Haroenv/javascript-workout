<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="../css/style.css">
	<style>
	.CodeMirrorWrapper {
		width: 80%;
	}
	</style>
</head>
<body class="slide vertical-center">
	<div class="content">
		<div class="CodeMirrorWrapper">
			<textarea id="code">var Cylon = require('cylon');
var robot = Cylon.robot({
  connections: [
    { name: 'arduino', adaptor: 'firmata', port: '/dev/tty.usbmodem14111' },
    { name: 'leapmotion', adaptor: 'leapmotion', port: '127.0.0.1:6437' }
  ],
  devices: [
    { name: 'servo', driver: 'servo', pin: 11, connection: "arduino" },
    { name: 'leapmotion', driver: 'leapmotion', connection: "leapmotion" },
  ],
  work: function(my) {
  	var angle = 0;
    var handX = 0;
    my.leapmotion.on('frame', function(frame){
      if(frame.hands.length > 0) {
        handX = frame.hands[0].palmPosition[0];
        angle = (handX).fromScale(-255, 255).toScale(0, 180);
        my.servo.angle(angle);
      }
    });
  }
});
robot.start();</textarea>
		</div>
		<button class="btn btn-default btn-save">Save</button>
		<button class="btn btn-default btn-run">Run</button>
	</div>

	<script src="/socket.io/socket.io.js"></script>
	<script src="/presentation/js/vendors.min.js"></script>
	<script src="/presentation/js/script.min.js"></script>
	<script>
	(function(){
		var NodeAppEditor = require('classes/content/node-app-editor');
		new NodeAppEditor("codemirror-test");
	})();
	</script>
</body>
</html>